extends /layout

block body
  include /navbar

  .container
    .row
      h1 Create Publication
        small &nbsp;Add a new Publication to BookBrainz
    .row
      ul.nav.nav-tabs
        li(data-bind="css: {active: page() === 1}"): a(href="#", data-bind="click: pageAliases")
          strong 1.&nbsp
          | Aliases
        li(data-bind="css: {active: page() === 2}"): a(href="#", data-bind="click: pageData")
          strong 2.&nbsp
          | Data
        li(data-bind="css: {active: page() === 3}"): a(href="#", data-bind="click: pageSubmit")
          strong 3.&nbsp
          | Submit
      noscript
        .alert.alert-danger(role="alert") This page will not function correctly without JavaScript! Please enable JavaScript to use this page.
    div(data-bind="visible: page() === 1")
      include ./aliases

    div(data-bind="visible: page() === 2")
      .row
        .col-md-12
          p.lead Fill out any data you know about the entity.
      h2 Add Data
      .row
        .col-md-6.col-md-offset-3
          .form-horizontal
            .form-group
              label.col-md-3.control-label Type
              .col-md-9
                select.form-control(required, data-bind="value: publicationTypeId")
                  each type in publicationTypes.objects
                    option(value=type.id)=type.label
            .form-group
              label.col-md-3.control-label Disambiguation
              .col-md-9
                input.form-control(type='text', data-bind="value: disambiguation")
            .form-group
              label.col-md-3.control-label Annotation
              .col-md-9
                textarea.form-control(rows="3", data-bind="value: annotation")
    div(data-bind="visible: page() === 3")
      include ./submit

    .alert.alert-danger.alert-dismissible(data-bind='visible: error, with: error')
      span(data-bind='text: error')
  include /footer

  script(src='/javascripts/bundle/edit.js')
