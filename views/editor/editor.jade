extends ../layout

block body
  include ../navbar

  .container#content
    .row
      .col-md-12
        h1=editor.name
    .row
      .col-md-12
        ul.nav.nav-tabs
          li.active: a(href='./'+editor.user_id) Profile
          li: a(href=editor.user_id+'/edits') Edits
    .row
      .col-md-7
        h2 Basic Info
          if secrets
            small.pull-right
              button.btn.btn-warning.btn-xs.fa.fa-pencil.entity-action
                span.sr-only Edit basic editor info
        dl.dl-horizontal
          dt Email
          dd
            if secrets
              =secrets.email
              | &nbsp;
            i (hidden)
            if (session.user && !secrets)
              a.btn.btn-warning.btn-xs.fa.fa-envelope-o.entity-action(title='Compose message', href='/messageForm?recipients=' + user.user_id)
                span.sr-only Compose message to #{user.name}
          dt Type
          dd=editor.user_type.label
          dt Reputation
          dd 0
          dt Joined
          dd=(new Date(editor.created_at)).toUTCString()
          dt Last Active
          dd=(new Date(editor.active_at)).toUTCString()
          dt Bio
          dd=(editor.bio ? editor.bio : '-')
        h2 Stats
        if stats
          dl.dl-horizontal
            dt Total Edits
            dd=stats.total_edits
            dt Total Revisions
            dd=stats.total_revisions
            dt Edits Accepted
            dd=stats.edits_accepted
            dt Edits Rejected
            dd=stats.edits_rejected
            dt Edits Failed
            dd=stats.edits_failed
        else
          p N/A
      .col-md-5
        h2 Activity
        canvas#editChart(width="400", height="250")


  include ../footer

  script(src='/javascripts/editor.js')
